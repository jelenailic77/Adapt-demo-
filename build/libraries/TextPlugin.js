import{emojiSafeSplit as emojiSafeSplit,getText as getText,splitInnerHTML as splitInnerHTML}from"./utils/strings.js";var gsap,_tempDiv,_getGSAP=function(){return gsap||"undefined"!=typeof window&&(gsap=window.gsap)&&gsap.registerPlugin&&gsap},TextPlugin={version:"3.10.3",name:"text",init:function(e,t,i){"object"!=typeof t&&(t={value:t});var n,s,l,a,r,p,o,g,f=e.nodeName.toUpperCase(),u=this,m=t.newClass,T=t.oldClass,x=t.preserveSpaces,d=t.rtl,h=u.delimiter=t.delimiter||"",v=u.fillChar=t.fillChar||(t.padSpace?"&nbsp;":"");if(u.svg=e.getBBox&&("TEXT"===f||"TSPAN"===f),!("innerHTML"in e||u.svg))return!1;if(u.target=e,"value"in t){for(l=splitInnerHTML(e,h,!1,x),(_tempDiv=_tempDiv||document.createElement("div")).innerHTML=t.value,s=splitInnerHTML(_tempDiv,h),u.from=i._from,!u.from&&!d||d&&u.from||(f=l,l=s,s=f),u.hasClass=!(!m&&!T),u.newClass=d?T:m,u.oldClass=d?m:T,n=(f=l.length-s.length)<0?l:s,f<0&&(f=-f);-1<--f;)n.push(v);if("diff"===t.type){for(r=[],p=[],o="",f=a=0;f<s.length;f++)(g=s[f])===l[f]?o+=g:(r[a]=o+g,p[a++]=o+l[f],o="");s=r,l=p,o&&(s.push(o),l.push(o))}t.speed&&i.duration(Math.min(.05/t.speed*n.length,t.maxDuration||9999)),u.rtl=d,u.original=l,u.text=s,u._props.push("text")}else u.text=u.original=[""]},render:function(e,t){1<e?e=1:e<0&&(e=0),t.from&&(e=1-e);var i=t.text,n=t.hasClass,s=t.newClass,l=t.oldClass,a=t.delimiter,r=t.target,p=t.fillChar,o=t.original,g=t.rtl,f=i.length,g=(g?1-e:e)*f+.5|0,a=n&&e?(e=l&&g!==f,((f=s&&g)?"<span class='"+s+"'>":"")+i.slice(0,g).join(a)+(f?"</span>":"")+(e?"<span class='"+l+"'>":"")+a+o.slice(g).join(a)+(e?"</span>":"")):i.slice(0,g).join(a)+a+o.slice(g).join(a);t.svg?r.textContent=a:r.innerHTML="&nbsp;"===p&&~a.indexOf("  ")?a.split("  ").join("&nbsp;&nbsp;"):a}};TextPlugin.splitInnerHTML=splitInnerHTML,TextPlugin.emojiSafeSplit=emojiSafeSplit,TextPlugin.getText=getText,_getGSAP()&&gsap.registerPlugin(TextPlugin);export{TextPlugin as TextPlugin,TextPlugin as default};